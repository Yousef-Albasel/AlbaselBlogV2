<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P2 Vertex Buffers - Albasel</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <nav class="topnav">
    <div class="topnav-inner">
        <a href="/" class="topnav-logo">Albasel</a>
        
        <button class="nav-hamburger" id="nav-hamburger" aria-label="Toggle menu">
            <i class="fas fa-bars"></i>
        </button>

        <ul class="topnav-links" id="nav-links">
            <li><a href="/">Home</a></li>
            <li><a href="/posts.html">Posts</a></li>
            <li><a href="/categories.html">Categories</a></li>
            <li><a href="/aboutme.html">About</a></li>
        </ul>

        <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
            <i class="fa-solid fa-moon" id="theme-icon"></i>
        </button>
    </div>
</nav>


    <div class="main-content">
        <article class="article">
            <header class="article-header">
                <h1>P2 Vertex Buffers</h1>
                <div class="article-meta">
                    
                    <span class="article-category">OpenGL</span>
                    
                    <time>2024-01-01</time>
                </div>
                
                <img src="/images/opengl.jpg" alt="P2 Vertex Buffers" class="article-image">
                
            </header>

            <div class="post-content">
                <p>—### Vertex Buffers and Drawing a Triangle</p>
<p>as we finally are set up, we can start learning OpenGL and make things happen.</p>
<p>to start with drawing a triangle in <strong>“Moden OpenGL”</strong> we need two things, a <strong>vertex buffer</strong> and a <strong>Shader</strong></p>
<p>a buffer is nothing but an array, the basic concept that i want to define a bunch of data that represents a triangle, put it in our GPU’s vRam, and then define a draw function, and then tell our GPU how to read those data, and display it on screen.</p>
<p>“Have some data, draw me something” or &quot; I want you to select this buffer, and this shader, then draw me a triangle&quot; it’s a <strong>state machine</strong></p>
<pre class="hljs"><code>
    <span class="hljs-type">float</span> positions[<span class="hljs-number">6</span>] = { <span class="hljs-number">-0.5f</span>, <span class="hljs-number">-0.5f</span>,
                         <span class="hljs-number">0.0f</span>, <span class="hljs-number">0.5f</span>,
                         <span class="hljs-number">0.5f</span>,<span class="hljs-number">-0.5f</span> }; <span class="hljs-comment">// our data to draw a triangle also a buffer</span>

    <span class="hljs-comment">// Creating our Vertex Buffer</span>
    <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> buffer;
    glGenBuffers(<span class="hljs-number">1</span>, &amp;buffer); <span class="hljs-comment">// Generates a buffer and gives back ID</span>

    <span class="hljs-comment">// Binding a buffer (selecting)</span>

    glBindBuffer(GL_ARRAY_BUFFER, buffer); <span class="hljs-comment">// binding to the buffer we created.</span>

    <span class="hljs-comment">// Put data into the Buffer.</span>
 
    glBufferData(GL_ARRAY_BUFFER, <span class="hljs-number">6</span> * <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">float</span>), positions,GL_STATIC_DRAW);

    <span class="hljs-comment">// Now we need to tell OpenGL how our data is laid out, is it a 2D Vector or 3D...</span>
    <span class="hljs-comment">// But it&#x27;s a problem for future me.</span>
</code></pre>
<ul>
<li>
<p><strong>Positions Array:</strong> This array holds the vertex coordinates of your triangle. Each vertex has two coordinates (x, y), and you have three vertices, making a total of six values.</p>
</li>
<li>
<p><strong>Generate and Bind Vertex Buffer:</strong> <code>glGenBuffers</code> is used to create a buffer (in this case, a vertex buffer) and allocate an ID for it. <code>glBindBuffer</code> is used to bind the buffer, making it the active buffer.</p>
</li>
<li>
<p><strong>Buffer Data:</strong> <code>glBufferData</code> is used to allocate and initialize the data store of the buffer. In this case, it copies the vertex data from the positions array into the buffer. The <code>GL_STATIC_DRAW</code> hint indicates that the data is not expected to change frequently.</p>
</li>
</ul>
<p>You can refer to the documentation to know more info about it <a href="https://docs.gl/gl4/glBufferData">https://docs.gl/gl4/glBufferData</a></p>
<ul>
<li><strong>Vertex Layout (Not Implemented Yet):</strong> The code comments mention that it’s a task for the future to inform OpenGL about the layout of the data. This typically involves specifying the format of the vertex data, like whether it represents 2D or 3D coordinates and how they are packed in memory.</li>
</ul>

            </div>

            <footer class="article-footer">
                <a href="/posts.html"><i class="fas fa-arrow-left"></i> All Posts</a>
                <a href="/">Home</a>
            </footer>
        </article>
    </div>

    <script>
    // Theme
    const toggleBtn = document.getElementById('theme-toggle');
    const themeIcon = document.getElementById('theme-icon');
    function setTheme(m) {
        document.body.classList.toggle('dark-mode', m === 'dark');
        themeIcon.className = m === 'dark' ? 'fa-solid fa-sun' : 'fa-solid fa-moon';
        localStorage.setItem('theme', m);
    }
    toggleBtn.addEventListener('click', () => setTheme(document.body.classList.contains('dark-mode') ? 'light' : 'dark'));
    if (localStorage.getItem('theme') === 'dark') setTheme('dark');

    document.getElementById('nav-hamburger').addEventListener('click', () => {
        document.getElementById('nav-links').classList.toggle('open');
    });

    // Copy buttons for code blocks
    document.querySelectorAll('pre.hljs').forEach(pre => {
        const wrapper = document.createElement('div');
        wrapper.className = 'code-wrapper';
        pre.parentNode.insertBefore(wrapper, pre);
        wrapper.appendChild(pre);

        const btn = document.createElement('button');
        btn.className = 'copy-btn';
        btn.textContent = 'Copy';
        wrapper.appendChild(btn);

        btn.addEventListener('click', () => {
            const code = pre.querySelector('code');
            navigator.clipboard.writeText(code ? code.textContent : pre.textContent);
            btn.textContent = 'Copied!';
            setTimeout(() => btn.textContent = 'Copy', 1500);
        });
    });
    </script>
</body>
</html>
