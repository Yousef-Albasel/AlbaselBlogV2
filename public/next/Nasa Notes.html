<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notes for Nasa - Albasel</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .series-info {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.5rem 2rem;
            border-radius: var(--border-radius);
            margin-bottom: 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 1rem;
            box-shadow: var(--shadow-md);
        }
        .series-info a {
            color: white;
            text-decoration: none;
            font-weight: bold;
        }
        .series-info a:hover {
            text-decoration: underline;
        }
        .series-progress {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        .series-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 2px solid rgba(0, 0, 0, 0.1);
            gap: 1rem;
        }
        .nav-link {
            display: flex;
            flex-direction: column;
            padding: 1.25rem;
            background: rgba(126, 179, 214, 0.1);
            border-radius: 8px;
            text-decoration: none;
            color: #333;
            transition: all 0.2s;
            max-width: 45%;
            border: 2px solid transparent;
        }
        .nav-link:hover {
            background: rgba(126, 179, 214, 0.2);
            transform: translateY(-2px);
            border-color: var(--accent-blue);
        }
        .nav-link-label {
            font-size: 0.8rem;
            color: #666;
            text-transform: uppercase;
            font-weight: bold;
            margin-bottom: 0.25rem;
        }
        .nav-link-title {
            font-weight: bold;
            line-height: 1.3;
            color: var(--text-dark);
        }
        .nav-placeholder {
            width: 45%;
        }
        body.dark-mode .series-navigation {
            border-top: 2px solid #444;
        }
        body.dark-mode .nav-link {
            background: rgba(255, 255, 255, 0.05);
            color: #e0e0e0;
        }
        body.dark-mode .nav-link:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--accent-blue);
        }
        body.dark-mode .nav-link-label {
            color: #aaa;
        }
        body.dark-mode .nav-link-title {
            color: var(--text-light);
        }
    </style>
</head>
<body>
    <aside class="sidebar">
    <div class="sidebar-profile">
        <img src="/images/avatar.jpeg" alt="Albasel" class="sidebar-avatar">
        <div class="sidebar-name">Albasel</div>
        <div class="sidebar-bio">Iam a Computer Science student. I do computer graphics, AI and random programming stuff.</div>
    </div>
    
    <nav class="sidebar-nav">
        <ul>
            <li>
                <a href="/">
                    <i class="fa-solid fa-home"></i>
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="/posts.html">
                    <i class="fa-solid fa-newspaper"></i>
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="/categories.html">
                    <i class="fa-solid fa-tags"></i>
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="/aboutme.html">
                    <i class="fa-solid fa-user"></i>
                    <span>About Me</span>
                </a>
            </li>
        </ul>
    </nav>
    
    <div class="theme-toggle-sidebar">
        <button class="theme-toggle-btn" id="theme-toggle" aria-label="Toggle dark mode">
            <i class="fa-solid fa-moon" id="theme-icon"></i>
            <span>Dark Mode</span>
        </button>
    </div>
</aside>

    <main class="main-content">
        <div class="container">
            
            <div class="series-info">
                <div>
                    <i class="fas fa-book"></i>
                    <strong>Part 3 of 5</strong> in
                    <a href="/next/">nextjs</a>
                </div>
                <div class="series-progress">
                    3/5
                </div>
            </div>
            

            <article class="post">
                <header class="post-header">
                    <h1>Notes for Nasa</h1>
                    <div class="post-meta">
                        <time>2025-10-02</time>
                        
                        <span class="series-tag"><i class="fas fa-book"></i> Series</span>
                    </div>
                    
                </header>
                
                <div class="post-content">
                    <h1>Nasa Competition Notes and Checklist</h1>
<h1>Orbitify — README &amp; Implementation Checklist</h1>
<blockquote>
<p>Sources: Next.js install &amp; app router docs, Kepler public light curves, Lightkurve, Astropy BLS/Lomb-Scargle, FastAPI, tsfresh, and your project brief. (<a href="https://nextjs.org/docs/app/getting-started/installation" title="Getting Started: Installation | Next.js">Next.js</a>)</p>
</blockquote>
<hr>
<h2>Table of contents</h2>
<ul>
<li><a href="#goal--scope">Goal / Scope</a></li>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#quick-start---create-frontend--backend">Quick start — create frontend &amp; backend</a></li>
<li><a href="#recommended-repo-layout--folder-structure">Recommended repo layout / folder structure</a></li>
<li><a href="#frontend-nextjs---routes-components-tips">Frontend (Next.js) — routes, components, tips</a></li>
<li><a href="#backend-fastapi---endpoints--skeletons">Backend (FastAPI) — endpoints &amp; skeletons</a></li>
<li><a href="#data--kepler--labels-how-to-get-them">Data → Kepler &amp; labels (how to get them)</a></li>
<li><a href="#preprocessing--feature-extraction-checklist">Preprocessing &amp; feature extraction checklist</a></li>
<li><a href="#modeling--evaluation-checklist">Modeling &amp; evaluation checklist</a></li>
<li><a href="#integration--deployment-notes-dev-flow">Integration &amp; deployment notes (dev flow)</a></li>
<li><a href="#final-checklist-tick-boxes">Final checklist (tick boxes)</a></li>
</ul>
<hr>
<h1>Goal / Scope</h1>
<p>Build an interactive web app where users can:</p>
<ol>
<li>See <strong>insights</strong> and interactive visualizations about exoplanet datasets (public page).</li>
<li><strong>Upload</strong> their own Kepler light curves (FITS or CSV) and get immediate preprocessing, feature extraction, and model inference.</li>
<li>Explore <strong>public</strong> curated analysis of Kepler datasets (cool visualizations / precomputed results).</li>
</ol>
<p>We’ll use <strong>Next.js</strong> for the UI (App Router recommended) and a <strong>FastAPI</strong> Python service for ML preprocessing / inference / retraining. Next.js docs recommend Node.js 18.18+ for App Router. (<a href="https://nextjs.org/docs/app/getting-started/installation" title="Getting Started: Installation | Next.js">Next.js</a>)</p>
<hr>
<h1>Prerequisites</h1>
<ul>
<li>Node.js 18.18+ &amp; npm (Next.js App Router requirement). (<a href="https://nextjs.org/docs/app/getting-started/installation" title="Getting Started: Installation | Next.js">Next.js</a>)</li>
<li>Python 3.10+ (recommended) with <code>venv</code>.</li>
<li>Tools: Git, Docker (optional but recommended), VSCode (or your favorite torture device).</li>
<li>Python packages (installed later): <code>fastapi</code>, <code>uvicorn</code>, <code>lightkurve</code>, <code>astropy</code>, <code>numpy</code>, <code>pandas</code>, <code>scikit-learn</code>, <code>tsfresh</code> (or optional feature libraries), <code>joblib</code>.</li>
<li>Data sources: Kepler Public Light Curves (MAST) and NASA Exoplanet Archive for labels. (<a href="https://archive.stsci.edu/kepler/publiclightcurves.html?utm_source=chatgpt.com" title="MAST Kepler Public Light Curves">MAST</a>)</li>
</ul>
<hr>
<h1>Quick start — create frontend &amp; backend</h1>
<h3>Frontend (Next.js)</h3>
<pre><code class="language-bash"># create Next app (choose TypeScript, App Router, Tailwind if asked)
npx create-next-app@latest orbitify-frontend
cd orbitify-frontend

# dev server
npm run dev
</code></pre>
<p><code>create-next-app</code> will prompt options (TypeScript? App Router? Tailwind?). Use App Router (recommended). System reqs &amp; steps: Next.js docs. (<a href="https://nextjs.org/docs/app/getting-started/installation" title="Getting Started: Installation | Next.js">Next.js</a>)</p>
<p>Install front-end libs (examples):</p>
<pre><code class="language-bash">npm install axios @tanstack/react-query react-dropzone react-plotly.js plotly.js
# optional: tailwindcss, clsx, zustand, react-hook-form
</code></pre>
<h3>Backend (FastAPI)</h3>
<pre><code class="language-bash"># create backend folder
mkdir ../orbitify-backend &amp;&amp; cd ../orbitify-backend
python -m venv venv
source venv/bin/activate      # or venv\Scripts\activate on Windows

pip install &quot;fastapi[all]&quot; uvicorn lightkurve astropy numpy pandas scikit-learn tsfresh joblib
</code></pre>
<p>FastAPI quickstart &amp; docs: see FastAPI tutorial. (<a href="https://fastapi.tiangolo.com/tutorial/first-steps/?utm_source=chatgpt.com" title="First Steps">FastAPI</a>)</p>
<p>Run dev server:</p>
<pre><code class="language-bash">uvicorn app.main:app --reload --port 8000
</code></pre>
<hr>
<h1>Recommended repo layout / folder structure</h1>
<pre><code>orbitify/                       # monorepo root (recommended)
├─ frontend/                    # Next.js app
│  ├─ app/
│  │  ├─ layout.tsx
│  │  ├─ page.tsx               # Home
│  │  ├─ upload/page.tsx        # Upload &amp; analysis UI
│  │  ├─ public/page.tsx        # Public analysis &amp; dashboards
│  │  ├─ api/                   # (optional) Next route handlers
│  ├─ components/
│  │  ├─ Header.tsx
│  │  ├─ LightCurveViewer.tsx   # interactive Plotly viewer
│  │  ├─ UploadForm.tsx
│  │  ├─ AnalysisCard.tsx
│  ├─ lib/
│  │  ├─ apiClient.ts           # axios wrapper, react-query hooks
│  ├─ styles/
│  ├─ public/
│  └─ package.json
├─ backend/
│  ├─ app/
│  │  ├─ main.py                # FastAPI app
│  │  ├─ routers/
│  │  │  ├─ upload.py
│  │  │  ├─ predict.py
│  │  │  ├─ features.py
│  │  ├─ services/              # code for preprocessing, features, models
│  │  ├─ models/                # saved model artifacts (.joblib / .pkl)
│  ├─ requirements.txt
│  ├─ Dockerfile
│  └─ docker-compose.yml
├─ data/                        # small curated samples ( DO NOT commit large raw files)
└─ README.md
</code></pre>
<hr>
<h1>Frontend (Next.js) — routes, components, tips</h1>
<h3>Routes</h3>
<p>Use the <strong>App Router</strong> with these pages:</p>
<ul>
<li><code>/</code> — Home: highlights, KPIs, example discoveries, live metrics.</li>
<li><code>/upload</code> — Upload interface: upload FITS/CSV, options (detrend params), preview, trigger preprocessing &amp; predict.</li>
<li><code>/public</code> — Public analysis: curated dashboards, interactive charts, downloadable CSVs.</li>
</ul>
<h3>Components</h3>
<ul>
<li><strong>LightCurveViewer</strong>: interactive time-series (Plotly) with zoom, hover, mark transit windows.</li>
<li><strong>UploadForm</strong>: drag &amp; drop (react-dropzone), file type checker (<code>.fits</code>, <code>.csv</code>), progress indicator.</li>
<li><strong>AnalysisCard</strong>: result summary (probability, predicted period, depth, transit windows).</li>
<li><strong>Header / Footer</strong>: quick links + “Run analysis” CTA.</li>
</ul>
<h3>Client ↔ Server flow</h3>
<ul>
<li>Put API base URL in <code>.env.local</code> as <code>NEXT_PUBLIC_API_URL=http://localhost:8000</code>.</li>
<li>Use <code>axios</code> or <code>fetch</code> + <code>@tanstack/react-query</code> for uploads / polling jobs.</li>
<li>Upload pattern (recommended): <code>POST /api/upload</code> as <code>multipart/form-data</code> (file + metadata). Backend returns job id and quick preview; Next polls <code>GET /api/jobs/{job_id}</code> until done.</li>
</ul>
<p><strong>Example client upload (fetch):</strong></p>
<pre><code class="language-js">const form = new FormData();
form.append('file', file);
form.append('source', 'kepler');

await fetch(`${process.env.NEXT_PUBLIC_API_URL}/upload`, {
  method: 'POST',
  body: form
});
</code></pre>
<hr>
<h1>Backend (FastAPI) — endpoints &amp; skeletons</h1>
<h3>Minimal endpoints (suggested)</h3>
<ul>
<li><code>POST /upload</code> — Accepts file (FITS or CSV). Saves file, returns <code>job_id</code>, preview stats (length, nan_frac).</li>
<li><code>GET /jobs/{job_id}</code> — Poll job status + results (features, charts endpoint references).</li>
<li><code>POST /predict</code> — Accept JSON with <code>light_curve</code> (time[], flux[]) or <code>file_id</code> → returns <code>{label, probability, period, depth, duration, transit_windows}</code>.</li>
<li><code>GET /public/analyses</code> — Precomputed public analyses (for <code>/public</code> page).</li>
<li><code>POST /retrain</code> — Admin-only retrain trigger (optional — asynchronous job).</li>
<li><code>GET /model/metrics</code> — Current model metrics (ROC AUC, precision/recall) for dashboard.</li>
</ul>
<h3>Example <code>main.py</code> skeleton</h3>
<pre><code class="language-py">from fastapi import FastAPI, UploadFile, File
app = FastAPI(title=&quot;Orbitify API&quot;)

@app.post(&quot;/upload&quot;)
async def upload(file: UploadFile = File(...)):
    # save file, enqueue job (or process sync for demo)
    return {&quot;job_id&quot;: &quot;abc123&quot;, &quot;status&quot;: &quot;processing&quot;}

@app.post(&quot;/predict&quot;)
def predict(payload: dict):
    # payload might contain time[], flux[] OR file_id
    return {&quot;label&quot;:&quot;candidate&quot;, &quot;prob&quot;:0.87, &quot;period&quot;:3.24}
</code></pre>
<p><strong>Tip:</strong> For production or heavier models use <code>uvicorn</code>/<code>gunicorn</code> + workers or a background task queue (Redis + RQ/Celery). FastAPI docs for background tasks are excellent. (<a href="https://fastapi.tiangolo.com/tutorial/first-steps/?utm_source=chatgpt.com" title="First Steps">FastAPI</a>)</p>
<hr>
<h1>Data — Kepler &amp; labels (how to get them)</h1>
<ul>
<li>Kepler full light curve archive: MAST Kepler public lightcurves (directory layout &amp; raw FITS files). Use this for bulk downloads and sample FITS. (<a href="https://archive.stsci.edu/kepler/publiclightcurves.html?utm_source=chatgpt.com" title="MAST Kepler Public Light Curves">MAST</a>)</li>
<li>Labels: use NASA Exoplanet Archive (KOI tables / confirmed vs false positive) to map target IDs to labels for supervised learning. Cross-match by KIC / KOI IDs. (<a href="https://exoplanetarchive.ipac.caltech.edu/?utm_source=chatgpt.com" title="NASA Exoplanet Archive">exoplanetarchive.ipac.caltech.edu</a>)</li>
</ul>
<p><strong>Download tips</strong></p>
<ul>
<li>For a demo, <strong>don’t</strong> download all Kepler files. Pick sample KIC IDs or test quarters and keep a small curated folder under <code>data/samples/</code>. Use Lightkurve to fetch specific targets programmatically. (<a href="https://lightkurve.github.io/lightkurve/?utm_source=chatgpt.com" title="Lightkurve docs">lightkurve.github.io</a>)</li>
</ul>
<hr>
<h1>Preprocessing &amp; feature extraction checklist</h1>
<p>This is the practical pipeline to implement in <code>backend/app/services/preprocess.py</code>.</p>
<ol>
<li>
<p><strong>Load</strong> file:</p>
<ul>
<li>FITS → use <code>lightkurve</code> to read PDCSAP flux (<code>.PDCSAP_FLUX</code> is usually the recommended corrected flux). For raw files, Lightkurve is the easiest entry point. (<a href="https://lightkurve.github.io/lightkurve/?utm_source=chatgpt.com" title="Lightkurve docs">lightkurve.github.io</a>)</li>
</ul>
</li>
<li>
<p><strong>Basic cleaning</strong></p>
<ul>
<li>Remove NaNs, drop huge gaps, sigma-clipping for outliers (<code>astropy.stats.sigma_clip</code> or <code>numpy</code> logic).</li>
</ul>
</li>
<li>
<p><strong>Detrend / Flatten</strong></p>
<ul>
<li>Use <code>lightkurve.LightCurve.flatten()</code> (built-in) or a Savitzky–Golay filter (<code>scipy.signal.savgol_filter</code>) to remove long-term trends. (<a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.signal.savgol_filter.html?utm_source=chatgpt.com" title="savgol_filter — SciPy v1.16.2 Manual">SciPy Documentation</a>)</li>
</ul>
</li>
<li>
<p><strong>Gap handling / interpolation</strong></p>
<ul>
<li>Interpolate small gaps; flag larger gaps.</li>
</ul>
</li>
<li>
<p><strong>Period search</strong></p>
<ul>
<li>Run <strong>Box Least Squares (BLS)</strong> to find candidate transit periods &amp; durations. Astropy provides a <code>BoxLeastSquares</code> implementation — use that to compute candidate periods and transit windows. (<a href="https://docs.astropy.org/en/stable/timeseries/bls.html?utm_source=chatgpt.com" title="Box Least Squares (BLS) Periodogram">docs.astropy.org</a>)</li>
</ul>
</li>
<li>
<p><strong>Feature extraction</strong></p>
<ul>
<li><strong>Statistical</strong>: mean, median, std, skewness, kurtosis, median absolute deviation, max, min, percentiles, number of NaNs, fraction of outliers.</li>
<li><strong>Transit-specific</strong> (from BLS results): best period, transit depth, duration, SNR, number of transits, phase-folded skew/shape metrics.</li>
<li><strong>Frequency-domain</strong>: Lomb-Scargle periodogram peaks (for stellar variability). (<a href="https://docs.astropy.org/en/latest/timeseries/lombscargle.html?utm_source=chatgpt.com" title="Lomb-Scargle Periodograms">docs.astropy.org</a>)</li>
<li><strong>Auto features</strong>: Optionally run <code>tsfresh</code> to compute a broad set of features automatically and then perform feature selection. (<a href="https://tsfresh.readthedocs.io/en/latest/api/tsfresh.feature_extraction.html?utm_source=chatgpt.com" title="tsfresh.feature_extraction package - Read the Docs">tsfresh.readthedocs.io</a>)</li>
</ul>
</li>
</ol>
<p><strong>Pseudo-code (very short):</strong></p>
<pre><code class="language-py">import lightkurve as lk
lcfile = lk.search_lightcurvefile(target_id).download()
lc = lcfile.PDCSAP_FLUX.remove_nans().normalize()
lc_flat = lc.flatten(window_length=401) # tuned per star
time, flux = lc_flat.time.value, lc_flat.flux

# BLS
from astropy.timeseries import BoxLeastSquares
bls = BoxLeastSquares(time, flux)
result = bls.autopower(0.2)  # duration guess
best_period = result.period[np.argmax(result.power)]
</code></pre>
<p><strong>Notes:</strong></p>
<ul>
<li>Use <strong>PDCSAP</strong> flux where possible — it’s corrected for common systematics; Lightkurve helps with this. (<a href="https://lightkurve.github.io/lightkurve/?utm_source=chatgpt.com" title="Lightkurve docs">lightkurve.github.io</a>)</li>
<li>BLS is the de-facto transit detection algorithm and is available in <code>astropy.timeseries</code>. (<a href="https://docs.astropy.org/en/stable/timeseries/bls.html?utm_source=chatgpt.com" title="Box Least Squares (BLS) Periodogram">docs.astropy.org</a>)</li>
</ul>
<hr>
<h1>Modeling &amp; evaluation checklist</h1>
<ul>
<li>
<p><strong>Baselines</strong>: RandomForest / XGBoost on engineered features (fast to iterate).</p>
</li>
<li>
<p><strong>Strong baseline</strong>: Astronet-like CNN on <em>folded</em> and <em>global/local</em> views (see Shallue &amp; Vanderburg deep learning work as reference). (<a href="https://arxiv.org/abs/1712.05044?utm_source=chatgpt.com" title="Identifying Exoplanets with Deep Learning: A Five Planet Resonant Chain around Kepler-80 and an Eighth Planet around Kepler-90">arXiv</a>)</p>
</li>
<li>
<p>Techniques to consider:</p>
<ul>
<li>Class balancing (SMOTE, class weights)</li>
<li>Stratified K-fold (time-aware folds if needed)</li>
<li>Threshold tuning per precision/recall tradeoff</li>
</ul>
</li>
<li>
<p><strong>Metrics</strong>: Precision, Recall, F1, ROC-AUC, and confusion matrix on an <em>unseen</em> holdout set.</p>
</li>
</ul>
<hr>
<h1>Integration &amp; deployment notes (dev flow)</h1>
<ul>
<li>
<p><strong>Local dev</strong>:</p>
<ul>
<li>FastAPI on <code>localhost:8000</code>, Next.js on <code>localhost:3000</code>. Use <code>NEXT_PUBLIC_API_URL</code> env var in Next to point to backend.</li>
<li>For simpler local CORS / proxying, add <code>next.config.js</code> rewrites so <code>/api/*</code> proxies to backend in development.</li>
</ul>
</li>
<li>
<p><strong>Dockerize</strong> both services and run via <code>docker-compose</code> with ports <code>3000</code> (frontend) and <code>8000</code> (backend).</p>
</li>
<li>
<p><strong>Model artifacts</strong>: save model files in <code>backend/models/model.joblib</code>. Use <code>joblib</code> for scikit-learn models.</p>
</li>
<li>
<p><strong>Security</strong>: for the challenge demo, you can skip auth, but note: allowlist uploads &amp; file-size limits; implement a sane quota.</p>
</li>
</ul>
<hr>
<h1>Example: API contract (JSON schemas — copy into docs)</h1>
<p><strong>POST /upload</strong> (<code>multipart/form-data</code>)</p>
<ul>
<li>Request: <code>file</code> (FITS or CSV), <code>source</code> (string), <code>meta</code> (json optional)</li>
<li>Response:</li>
</ul>
<pre><code class="language-json">{
  &quot;job_id&quot;: &quot;string&quot;,
  &quot;status&quot;: &quot;queued|processing|done|failed&quot;,
  &quot;preview&quot;: {&quot;n_points&quot;: 1234, &quot;nan_frac&quot;: 0.02}
}
</code></pre>
<p><strong>POST /predict</strong> (JSON)</p>
<ul>
<li>Request:</li>
</ul>
<pre><code class="language-json">{
  &quot;time&quot;: [..],
  &quot;flux&quot;: [..],
  &quot;meta&quot;: {&quot;kic&quot;: &quot;12345&quot;}
}
</code></pre>
<ul>
<li>Response:</li>
</ul>
<pre><code class="language-json">{
  &quot;label&quot;: &quot;planet_candidate&quot;,
  &quot;probability&quot;: 0.92,
  &quot;period&quot;: 3.24,
  &quot;depth&quot;: 0.0012,
  &quot;duration&quot;: 0.12,
  &quot;transit_windows&quot;: [[2455000.2, 2455000.32], ...]
}
</code></pre>
<hr>
<h1>Final checklist (tick boxes)</h1>
<p>Use this list during the hack — follow top-to-bottom.</p>
<h3>Project setup</h3>
<ul>
<li>[ ] Create repo <code>orbitify</code> (monorepo layout above) and push initial commit.</li>
<li>[ ] Add <code>README.md</code> (this file) and issue templates for tasks.</li>
</ul>
<h3>Frontend (Next)</h3>
<ul>
<li>[ ] <code>npx create-next-app</code> → choose TypeScript, App Router, Tailwind. (<a href="https://nextjs.org/docs/app/getting-started/installation" title="Getting Started: Installation | Next.js">Next.js</a>)</li>
<li>[ ] Implement <code>/</code> Home skeleton + global layout.</li>
<li>[ ] Implement <code>/upload</code> page + <code>UploadForm</code> component (drag &amp; drop).</li>
<li>[ ] Implement <code>LightCurveViewer</code> with Plotly (preview + overlay transit windows).</li>
<li>[ ] Integrate <code>react-query</code> for uploads &amp; job polling.</li>
<li>[ ] Implement <code>/public</code> page that fetches <code>/public/analyses</code>.</li>
</ul>
<h3>Backend (FastAPI)</h3>
<ul>
<li>[ ] Init FastAPI app skeleton + health route. (<a href="https://fastapi.tiangolo.com/tutorial/first-steps/?utm_source=chatgpt.com" title="First Steps">FastAPI</a>)</li>
<li>[ ] Implement <code>POST /upload</code> (save file, quick preview metadata).</li>
<li>[ ] Implement preprocessing pipeline (Lightkurve → cleaning → flatten). (<a href="https://lightkurve.github.io/lightkurve/?utm_source=chatgpt.com" title="Lightkurve docs">lightkurve.github.io</a>)</li>
<li>[ ] Implement <code>POST /predict</code> using baseline model (RandomForest).</li>
<li>[ ] Add <code>GET /jobs/{id}</code> to poll processing status.</li>
</ul>
<h3>Data &amp; preprocessing</h3>
<ul>
<li>[ ] Download a small sample (MAST Kepler quick targets). (<a href="https://archive.stsci.edu/kepler/publiclightcurves.html?utm_source=chatgpt.com" title="MAST Kepler Public Light Curves">MAST</a>)</li>
<li>[ ] Implement BLS-based period search (astropy BoxLeastSquares). (<a href="https://docs.astropy.org/en/stable/timeseries/bls.html?utm_source=chatgpt.com" title="Box Least Squares (BLS) Periodogram">docs.astropy.org</a>)</li>
<li>[ ] Implement feature set: mean, std, skew, kurtosis, BLS depth/duration, Lomb-Scargle peak. (<a href="https://docs.astropy.org/en/latest/timeseries/lombscargle.html?utm_source=chatgpt.com" title="Lomb-Scargle Periodograms">docs.astropy.org</a>)</li>
<li>[ ] (Optional) run <code>tsfresh</code> to extract large feature set for model exploration. (<a href="https://tsfresh.readthedocs.io/en/latest/api/tsfresh.feature_extraction.html?utm_source=chatgpt.com" title="tsfresh.feature_extraction package - Read the Docs">tsfresh.readthedocs.io</a>)</li>
</ul>
<h3>Modeling</h3>
<ul>
<li>[ ] Train baseline RandomForest/XGBoost on features.</li>
<li>[ ] Evaluate using stratified CV; compute ROC AUC, precision/recall.</li>
<li>[ ] (Optional) implement Astronet-style CNN baseline (paper reference). (<a href="https://arxiv.org/abs/1712.05044?utm_source=chatgpt.com" title="Identifying Exoplanets with Deep Learning: A Five Planet Resonant Chain around Kepler-80 and an Eighth Planet around Kepler-90">arXiv</a>)</li>
</ul>
<h3>Integration / Demo</h3>
<ul>
<li>[ ] Wire frontend to backend for upload → preview → predict flow.</li>
<li>[ ] Add sample demo button: “Analyze sample Kepler lightcurve” (use preloaded sample).</li>
<li>[ ] Prepare short demo script (3–4 slides + live demo).</li>
</ul>
<h3>Deploy (if time)</h3>
<ul>
<li>[ ] Dockerize backend + frontend, add <code>docker-compose.yml</code>.</li>
<li>[ ] Deploy frontend to Vercel &amp; backend to a Cloud VM / Render / Railway (if allowed).</li>
</ul>
<hr>
<h1>Quick troubleshooting / gotchas</h1>
<ul>
<li><strong>FITS files</strong>: many fields — use Lightkurve to avoid hand-parsing. (<a href="https://lightkurve.github.io/lightkurve/?utm_source=chatgpt.com" title="Lightkurve docs">lightkurve.github.io</a>)</li>
<li><strong>PDCSAP vs SAP flux</strong>: PDCSAP is pre-corrected for systematics — generally preferred. (<a href="https://lightkurve.github.io/lightkurve/?utm_source=chatgpt.com" title="Lightkurve docs">lightkurve.github.io</a>)</li>
<li><strong>BLS tuning</strong>: duration guesses (in days) critically affect detection; try <code>autopower()</code> ranges. (<a href="https://docs.astropy.org/en/stable/timeseries/bls.html?utm_source=chatgpt.com" title="Box Least Squares (BLS) Periodogram">docs.astropy.org</a>)</li>
</ul>
<hr>
<h1>References (short)</h1>
<ul>
<li>Next.js App Router &amp; install. (<a href="https://nextjs.org/docs/app/getting-started/installation" title="Getting Started: Installation | Next.js">Next.js</a>)</li>
<li>FastAPI tutorial (endpoints / docs). (<a href="https://fastapi.tiangolo.com/tutorial/first-steps/?utm_source=chatgpt.com" title="First Steps">FastAPI</a>)</li>
<li>Kepler public light curves (MAST). (<a href="https://archive.stsci.edu/kepler/publiclightcurves.html?utm_source=chatgpt.com" title="MAST Kepler Public Light Curves">MAST</a>)</li>
<li>Lightkurve — friendly Kepler/TESS library. (<a href="https://lightkurve.github.io/lightkurve/?utm_source=chatgpt.com" title="Lightkurve docs">lightkurve.github.io</a>)</li>
<li>Astropy <code>BoxLeastSquares</code> &amp; Lomb-Scargle. (<a href="https://docs.astropy.org/en/stable/timeseries/bls.html?utm_source=chatgpt.com" title="Box Least Squares (BLS) Periodogram">docs.astropy.org</a>)</li>
<li>tsfresh (automatic time-series feature extraction). (<a href="https://tsfresh.readthedocs.io/en/latest/api/tsfresh.feature_extraction.html?utm_source=chatgpt.com" title="tsfresh.feature_extraction package - Read the Docs">tsfresh.readthedocs.io</a>)</li>
<li>Astronet (Shallue &amp; Vanderburg) — deep-learning baseline. (<a href="https://arxiv.org/abs/1712.05044?utm_source=chatgpt.com" title="Identifying Exoplanets with Deep Learning: A Five Planet Resonant Chain around Kepler-80 and an Eighth Planet around Kepler-90">arXiv</a>)</li>
<li>Your project brief — <em>The Space Decoders</em> (uploaded).</li>
</ul>
<hr>
<p>Alright — this README is battle-ready. For the challenge tomorrow: get the upload → predict demo working locally with one or two sample Kepler light curves (PDCSAP) and a simple RandomForest baseline that returns a probability and a plotted transit window. That demo looks impressive and is robust under time pressure.</p>
<p>Want me to also produce:</p>
<ul>
<li>(A) Minimal FastAPI <code>main.py</code> + BLS preprocessing snippet you can copy-paste?</li>
<li>(B) A simple Next.js <code>/upload</code> page with <code>react-dropzone</code> and fetch logic?</li>
</ul>
<p>Say which one and I’ll spit it out now — no waiting, no fluff.</p>
<p>Medical References:</p>
<ol>
<li>None — DOI: file_000000003ffc6246ab7ea13b6b639725</li>
</ol>

                </div>
                
                
                <nav class="series-navigation">
                    
                        <a href="/next/NextJS Notes 1.html" class="nav-link">
                            <span class="nav-link-label"><i class="fas fa-arrow-left"></i> Previous</span>
                            <span class="nav-link-title">NextJS Notes 1</span>
                        </a>
                    
                    
                    
                        <a href="/next/test.html" class="nav-link" style="text-align: right;">
                            <span class="nav-link-label">Next <i class="fas fa-arrow-right"></i></span>
                            <span class="nav-link-title">new file</span>
                        </a>
                    
                </nav>
                
                
                <footer class="post-footer">
                    
                        <a href="/next/" class="back-link"><i class="fas fa-book"></i> Back to nextjs</a>
                    
                    <a href="/" class="back-link"><i class="fas fa-arrow-left"></i> Back to Home</a>
                </footer>
            </article>
        </div>
    </main>
    
    <script>
    const toggleBtn = document.getElementById('theme-toggle');
    const themeIcon = document.getElementById('theme-icon');
    const themeText = document.querySelector('.theme-toggle-btn span');
    
    function setTheme(mode) {
        document.body.classList.toggle('dark-mode', mode === 'dark');
        if (mode === 'dark') {
            themeIcon.className = 'fa-solid fa-sun';
            if (themeText) themeText.textContent = 'Light Mode';
        } else {
            themeIcon.className = 'fa-solid fa-moon';
            if (themeText) themeText.textContent = 'Dark Mode';
        }
        localStorage.setItem('theme', mode);
    }
    
    toggleBtn.addEventListener('click', () => {
        const isDark = !document.body.classList.contains('dark-mode');
        setTheme(isDark ? 'dark' : 'light');
    });
    
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'dark') setTheme('dark');
    </script>
</body>
</html>